import {authenticate} from 'tests/server/shared/setup/authenticate';
require('tests/server/shared/behaviors/api');

describe('Recipe API:', () => {
  let token;
  before(async () => {
    return token = await authenticate();
  });

  describe('GET /api/recipes', () => {
    itBehavesLike('API GET', '/api/recipes', () => token);
  });

  describe('POST /api/recipes', () => {
    itBehavesLike('API POST', '/api/recipes', 'recipe', () => token);
  });

  describe('GET /api/recipes/:id', () => {
    itBehavesLike('API entity GET', '/api/recipes', 'recipe', () => token);
  });

  describe('PUT /api/recipes/:id', () => {
    itBehavesLike('API PUT', '/api/recipes', 'recipe', () => token);
  });

  describe('PATCH /api/grocery_lists/:id', () => {
    itBehavesLike('API PATCH', '/api/recipes', 'recipe', 'title', () => token);
  });

  describe('DELETE /api/recipes/:id', () => {
    itBehavesLike('API DELETE', '/api/recipes', 'recipe', () => token);
  });
});
