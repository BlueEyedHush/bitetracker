'use strict';

import {expressHandler} from 'tests/server/integration/utils';
import request from 'supertest-as-promised';

describe('FoodGroup API:', () => {
  describe('GET /api/food_groups', () => {
    var foodGroups;

    var eh;
    before(() => expressHandler().then(_ => eh = _));
    
    beforeEach(() => {
      return request(eh)
        .get('/api/food_groups')
        .expect(200)
        .expect('Content-Type', /json/)
        .then((res) => { foodGroups = res.body; });
    });

    it('should respond with JSON array', () => {
      foodGroups.should.have.deep.property('list.item');
      foodGroups.list.item.should.be.instanceof(Array);
    });
  });
});

