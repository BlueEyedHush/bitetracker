'use strict';

import express from 'express';
import {GroceryListDao} from './GroceryListDao';
import GroceryListController from './GroceryListController';

export default function getRouter(db) {
  const router = express.Router();
  const dao = new GroceryListDao(db);
  const controller = new GroceryListController(dao);

  router.get('/', controller.getAll.bind(controller));
  router.post('/', controller.createNew.bind(controller));
  router.get('/:listId', controller.getOne.bind(controller));
  router.patch('/:listId', controller.update.bind(controller));
  router.delete('/:listId', controller.remove.bind(controller));

  return router;
}
