import axios from 'axios';
import * as auth from 'client/sharedjs/auth';

const USERS_PATH = '/api/users';
const userPath = () => `${USERS_PATH}/${auth.getUserId()}`;

const UserSource = {
  fetch: () => axios.get(`${USERS_PATH}/me`),
  setDailyIntake: (intake) => axios.put(userPath(), [{
    op: 'replace',
    path: '/intake',
    value: intake
  }])
};

export default UserSource;
