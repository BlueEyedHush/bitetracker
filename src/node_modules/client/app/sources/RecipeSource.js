import axios from 'axios';
import {arrayOf} from 'normalizr';
import RecipeActions from 'actions/RecipeActions';
import createAsync from './create-async';
import recipe from './schemas/recipes';

const RECIPES_PATH = '/api/recipes';

const GroceryListSource = {
  fetch: {
    request: () => axios.get(RECIPES_PATH),
    success: RecipeActions.fetchSuccess,
    error: RecipeActions.fetchFailure,
    normalized: arrayOf(recipe),
  },
};

export default createAsync(GroceryListSource);
