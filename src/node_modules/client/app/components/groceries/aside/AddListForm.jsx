import React from 'react';
import GroceryListActions from 'actions/GroceryListActions';

import AddInput from 'components/shared/form/AddInput';

const INITIAL_STATE = {title: ''};

export default class AddListForm extends React.Component {
  constructor(...args) {
    super(...args);

    this.state = INITIAL_STATE;

    this.handleTitleChange = this.handleTitleChange.bind(this);
    this.handleListSubmit = this.handleListSubmit.bind(this);
  }

  handleTitleChange(title) {
    this.setState({title});
  }

  handleListSubmit() {
    GroceryListActions.addList(this.state);
    this.setState(INITIAL_STATE);
  }

  render() {
    return (
      <AddInput value={this.state.title}
                placeholder="Add list..."
                onChange={this.handleTitleChange}
                onSubmit={this.handleListSubmit} />
    );
  }
}
