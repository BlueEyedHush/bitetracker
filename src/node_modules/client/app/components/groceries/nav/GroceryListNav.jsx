import React, {PropTypes} from 'react'
import {Nav} from 'react-bootstrap'
import {Link} from 'react-router';
import ListSchema from 'schemas/GroceryListSchema'
import DeleteButton from 'components/shared/DeleteButton';

const ListNavItem = ({list, onDelete}) => (
  <li role="presentation">
    <Link to={`/groceries/${list._id}`}>
      {list.title}
    </Link>
    <DeleteButton onClick={() => onDelete(list._id)} />
  </li>
);

ListNavItem.propTypes = {
  list: ListSchema.only('_id', 'title').isRequired,
  onDelete: PropTypes.func,
};

ListNavItem.defaultProps = {
  onDelete: () => {},
};

const ListNav = ({lists, onSelect, onDelete}) => (
  <nav className="grocery-list-nav">
    <Nav bsStyle="pills" stacked onSelect={onSelect}>
      {lists.map(list => (
        <ListNavItem list={list} key={list._id} onDelete={onDelete} />
      ))}
    </Nav>
  </nav>
);

ListNav.propTypes = {
  lists: PropTypes.arrayOf(ListSchema.only('_id')).isRequired,
  onSelect: PropTypes.func,
  onDelete: PropTypes.func,
};

ListNav.defaultProps = {
  onSelect: () => {},
};

export default ListNav;
