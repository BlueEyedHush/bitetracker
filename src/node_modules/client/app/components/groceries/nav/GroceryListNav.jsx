import React, { PropTypes } from 'react'
import { Nav, NavItem } from 'react-bootstrap'
import { LinkContainer } from 'react-router-bootstrap'
import ListSchema from 'schemas/GroceryListSchema'
import GroceryListActions from 'actions/GroceryListActions'

const ListNavItem = ({ list }) => (
      <LinkContainer to={`/groceries/${list._id}`}>
        <NavItem>{list.title}</NavItem>
      </LinkContainer>
);

ListNavItem.propTypes = {
  list: ListSchema.only('_id', 'title').isRequired
};

const ListNav = ({ lists, onSelect }) => (
    <nav className="grocery-list-nav">
      <Nav bsStyle="pills" stacked onSelect={onSelect}>
        {lists.map(list => (
          <div>
            <ListNavItem list={list} key={list._id}/>
            <button onClick={() => (GroceryListActions.removeList(list._id))}>-</button>
          </div>
        ))}
      </Nav>
    </nav>
);

ListNav.propTypes = {
  lists:    PropTypes.arrayOf(ListSchema.only('_id')).isRequired,
  onSelect: PropTypes.func
};

export default ListNav;
