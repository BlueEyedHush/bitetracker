import React from 'react';
import {Grid, Row} from 'react-bootstrap';

import UserActions from 'actions/UserActions';
import UserStore from 'stores/UserStore';
import StoreStateSubscriber from 'mixins/StoreStateSubscriber';

import './profile.scss';

import DailyIntakeForm from './DailyIntakeForm';

const UserSubscriber = StoreStateSubscriber(UserStore);

class Profile extends UserSubscriber(React.Component) {
  componentDidMount() {
    super.componentDidMount();
    UserActions.fetchUser();
  }

  render() {
    return (
      <Grid className="c__profile">
        <Row>
          <DailyIntakeForm initialValue={this.state.user.intake}
                           onSubmit={UserActions.setDailyIntake} />
        </Row>
      </Grid>
    );
  }
}

export default Profile;
