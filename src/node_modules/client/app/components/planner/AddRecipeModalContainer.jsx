import React from 'react';
import RecipesStore from 'stores/RecipesStore';
import PlannerStore from 'stores/PlannerStore';
import PlannerActions from 'actions/PlannerActions';
import StoreStateSubscriber from 'mixins/StoreStateSubscriber';

import AddRecipeModal from './AddRecipeModal';

export default class AddRecipeModalContainer extends StoreStateSubscriber(PlannerStore, RecipesStore)(React.Component) {
  render() {
    return (
      <AddRecipeModal recipes={this.state.recipes}
                      open={this.state.modal.open}
                      onShow={PlannerActions.showModal}
                      onClose={PlannerActions.closeModal}
                      date={this.state.modal.date}
                      meal={this.state.modal.meal}
                      recipe={this.state.modal.recipe}
                      onRecipeAdd={PlannerActions.addRecipe}
                      onRecipeSet={(recipe) => PlannerActions.showModal({recipe})}
                      {...this.props} />
    );
  }
}
