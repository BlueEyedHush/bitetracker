import React from 'react'

import storeStateSubscriberCreator from 'client/app/mixins/StoreStateSubscriber';

import MealsStore from 'client/app/stores/MealsStore';
import MealsActions from 'client/app/actions/MealsActions';

import FoodLog from './FoodLog';

const MealsStoreStateSubscriber = storeStateSubscriberCreator(MealsStore);
export default class FoodLogContainer extends MealsStoreStateSubscriber(React.Component) {
  componentDidMount() {
    super.componentDidMount();
    MealsActions.fetchMeals();
  }

  render() {
    return (
      <FoodLog
        meals={this.state.meals}
        onMealAdded={(name) => MealsActions.addMeal(name)}
      />
    );
  }
}