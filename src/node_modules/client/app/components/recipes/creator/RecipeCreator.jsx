import React from 'react';
import RecipeStore from 'stores/RecipeStore';
import RecipeActions from 'actions/RecipeActions';
import StoreStateSubscriber from 'mixins/StoreStateSubscriber';

import RecipeCreatorView from './RecipeCreatorView';

const recipeSubscriber = StoreStateSubscriber(RecipeStore);

class RecipeCreator extends recipeSubscriber(React.Component) {
  componentDidMount() {
    super.componentDidMount();
    console.log(this.state);
  }

  componentDidUpdate() {
    console.log(this.state);
  }

  render() {
    return <RecipeCreatorView recipe={this.state.recipe}
                              onChange={RecipeActions.updateRecipe}
                              onSubmit={RecipeActions.submitRecipe} />;
  }
}

export default RecipeCreator;
