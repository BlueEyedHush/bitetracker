import alt from 'client/app/alt';

import GroceryListStore from 'client/app/sources/MealsSource';

class MealsActionCreators {
  fetchMeals() {
    return GroceryListStore.fetch()
      .then(mealsList => this.fetchMealsSuccess(mealsList))
      .catch(error => this.fetchMealsFailure(error));
  }

  fetchMealsSuccess(mealsList) {
    return mealsList;
  }

  fetchMealsFailure(error) {
    return error;
  }

  addMeal(name) {
    return GroceryListStore.add(name)
      .then(mealList => this.addMealSuccess(mealList))
      .catch(error => this.addMealFailure(error));
  }

  addMealSuccess(mealsList) {
    return mealsList;
  }

  addMealFailure(error) {
    return error;
  }
}

export default alt.createActions(MealsActionCreators);
