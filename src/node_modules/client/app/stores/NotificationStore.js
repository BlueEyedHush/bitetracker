import { List } from 'immutable'
import ImmutableStore from 'util/decorators/ImmutableStore'

import alt from '../alt'

import NotificationActions from 'actions/NotificationActions'

class NotificationStore {
  constructor() {
    this.notifications = List([{
      _id: 1,
      text: "Notification 1"
    }, {
      _id: 2,
      text: "Notification 2"
    }]);

    this.bindListeners({
      handlePushNotification: NotificationActions.PUSH_NOTIFICATION
    })
  }

  handlePushNotification(notification) {
    this.setState(this.notifications.push(notification));
  }
}

export default alt.createStore(ImmutableStore(NotificationStore), 'NotificationStore');